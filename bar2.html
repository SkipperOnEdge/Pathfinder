<!DOCTYPE html>
<html>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<head>
</head>



<body>
    <button type = "button" onclick="window.location.href='index.html'">Home</button>
    <canvas id="bar-chart" width="800" height="450"></canvas>
    <p id = "abc">REE
    </p>
</body>


<script>
  var test = getDataSets();

  // var test2 = tester();
new Chart(document.getElementById("bar-chart"), {
    type: 'bar',
    data: {
      labels: ['Wins', 'Losses', 'Offensive Rating', 'Defensive Rating', 'Accuracy Rating'],
      datasets: test
    },
    options: {
      legend: { display: false },
      title: {
        display: true,
        text: 'Scouting Data'
      }
    }
});

function getDataGivenTeam(pos){
  var teams = JSON.parse(localStorage.getItem("myAlbums"));
  var team = teams[pos];
  dat = [5];

  dat[0] = team.wins;
  dat[1] = team.losses;
  dat[2] = team.offenseRating;
  dat[3] = team.defenseRating;
  dat[4] = team.shootingPercentage;
  document.getElementById("abc").innerHTML = '';
  var randomColor = '#'+Math.floor(Math.random()*16777215).toString(16);

  var allDat = {
    label: team.team,
    backgroundColor: [randomColor,randomColor,randomColor,randomColor,randomColor],
    data: dat
  }
  return allDat;
}


function getDataSets()
{
  var allSets = [];
  for(var i = 0; i < JSON.parse(localStorage.getItem("myAlbums")).length; i++)
  {
    allSets.push(getDataGivenTeam(i));
  }
  return allSets;
}

</script>







</html>